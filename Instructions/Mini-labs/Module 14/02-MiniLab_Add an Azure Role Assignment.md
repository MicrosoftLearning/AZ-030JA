# ミニラボ: Azure ロールの割り当てを追加する 

## 前提条件

ロールの割り当てを追加または削除するには、以下が必要です。

* *ユーザー アクセス管理者* または *所有者* などの ```Microsoft.Authorization/roleAssignments/write``` および ```Microsoft.Authorization/roleAssignments/delete``` アクセス許可。


**アクセス制御 (IAM)** は、Azure リソースへのアクセスを許可するロールを割り当てるために使用するブレードです。ID およびアクセス管理とも呼ばれ、Azure portal のいくつかの場所に表示されます。次に、サブスクリプションの Access Control (IAM) ブレードの例を示します。

![サブスクリプションのアクセス制御 (IAM) ブレード](../../Linked_Image_Files/demo_RBAC_image1.png)

アクセス制御 (IAM) ブレードで最も効果的にするには、ロールを割り当てようとするときに以下の 3 つの質問に答えられると役立ちます。

**1. アクセスする必要があるのは誰ですか?**

誰とは、ユーザー、グループ、サービス プリンシパル、またはマネージド ID などを指します。これは、*セキュリティ プリンシパル*とも呼ばれます。

**2. 対象者にはどのような役割が必要ですか?**

権限はロールにグループ化されます。複数の 「組み込みのロール」 のリストから選択するか、独自のカスタム ロールを使用できます。

**3. 対象者はどこにアクセスする必要がありますか?**

どことは、アクセスが適用されるリソースのセットを指します。管理グループ、サブスクリプション、リソース グループ、またはストレージ アカウントなどの単一のリソースの場合があります。これは*スコープ*と呼ばれています。

## ロールの割り当てを追加する

Azure RBAC で、Azure リソースへのアクセスを許可するには、ロールの割り当てを追加します。次の手順に従って、ロールを割り当てます。

1. Azure portal で、「**すべてのサービス**」 をクリックし、アクセスを許可するスコープを選択します。 

2. そのスコープの特定のリソースをクリックします。

3. **アクセス制御 (IAM)** をクリックします。

4. 「**ロールの割り当て**」 タブをクリックして、このスコープでの役割の割り当てを表示します。

![アクセス制御 (IAM) およびロールの割り当てのタブ](../../Linked_Image_Files/demo_RBAC_image2.png)

5. 「**追加**」  >  「**ロールの割り当ての追加**」 をクリックします。

ロールを割り当てる権限がない場合、「**ロールの割り当てを追加**」 オプションは無効になります。

![メニューを追加](../../Linked_Image_Files/demo_RBAC_image3.png)

「**ロールの割り当ての追加**」 ペインが開きます。

![[ロールの割り当ての追加] ペイン](../../Linked_Image_Files/demo_RBAC_image4.png)

6. 「**ロール**」 ドロップダウン リストで、「**仮想マシン共同作成者**」 などの役割を選択します。

7. 「**選択**」 リストで、ユーザー、グループ、サービス プリンシパル、またはマネージド ID を選択します。リストにセキュリティ プリンシパルが表示されない場合は、「**選択**」 ボックスに入力して、表示名、メール アドレス、オブジェクト識別子をディレクトリで検索できます。

8. 「**保存**」 をクリックしてロールを割り当てます。

しばらくすると、セキュリティ プリンシパルに、選択したスコープのロールが割り当てられます。

![保存されたロールの割り当てを追加する](../../Linked_Image_Files/demo_RBAC_image5.png)

 
